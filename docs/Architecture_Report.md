**Лабораторная работа №3: Исследование архитектурного решения**

### Часть 1. Проектирование архитектуры ("To Be")
Приложение представляет собой **менеджер задач** с использованием **Jetpack Compose**. Оно включает:
- **Тип приложения**: мобильное Android-приложение.
- **Стратегия развёртывания**: Play Market / локальное APK.
- **Выбранные технологии**:
  - Kotlin + Jetpack Compose (UI) – современный декларативный подход к созданию UI.
  - Navigation Compose (управление экранами) – позволяет удобно управлять переходами между экранами.
  - State Management через `remember` и `mutableStateOf` – упрощает управление состоянием.
  - Room Database (рекомендуется) – для хранения данных локально.
  - Hilt (рекомендуется) – для управления зависимостями.
- **Показатели качества**:
  - Производительность: быстрые UI-рендеры через Compose.
  - Масштабируемость: возможность интеграции с Room DB.
  - Надёжность: минимальные зависимые библиотеки, предсказуемость состояния.
- **Реализация сквозной функциональности**:
  - Авторизация и навигация между экранами.
  - Создание, редактирование и удаление задач.
  - Фильтрация и сортировка задач.

#### **Диаграмма "To Be" (Желаемая архитектура)**
```plaintext
+--------------------+
|     UI Layer      |
|  (Jetpack Compose)|
+--------------------+
         |
         V
+--------------------+
|   ViewModel Layer |
|  (Business Logic) |
+--------------------+
         |
         V
+--------------------+
|  Data Layer       |
| (Room Database)   |
+--------------------+
```

### Часть 2. Анализ архитектуры ("As Is")
Анализируя предоставленный код, приложение содержит следующие ключевые модули:
1. **Экран приветствия (`HelloScreen`)**
2. **Экран входа (`LoginScreen`) и регистрации (`RegisterScreen`)**
3. **Основной экран (`MainScreen`) с отображением списка задач**
4. **Экран создания и редактирования задачи (`DoTaskScreen`, `TaskScreen`)**
5. **Менеджер навигации (`NavManager`)**
6. **Модели данных (`TaskInfo`, `TaskLevel`)**
7. **Тема оформления (`theme`)**

Архитектура представлена в виде монолитного приложения с разделением логики по экранам. Однако, наблюдается недостаток четкой слоистой структуры (например, бизнес-логика и UI в одном месте).

#### **Диаграмма "As Is" (Текущая архитектура)**
```plaintext
+---------------------+
| UI (Jetpack Compose)|
+---------------------+
         |
         V
+---------------------+
|  Navigation Layer  |
+---------------------+
         |
         V
+---------------------+
| Бизнес-логика внутри UI |
+---------------------+
```

#### **Диаграмма классов**
```plaintext
+----------------------+
|      TaskInfo       |
|----------------------|
| - id: Int           |
| - lvl: TaskLevel    |
| - title: String     |
| - info: String      |
| - completed: Boolean|
+----------------------+
         |
         V
+----------------------+
|      TaskLevel      |
|----------------------|
| DAILY, WEEKLY,      |
| MONTHLY, YEARLY     |
+----------------------+

+----------------------+
|     NavManager      |
|----------------------|
| - navController     |
| + navigateToLogin() |
| + navigateToMain()  |
| + goBack()          |
+----------------------+

+----------------------+
|     Screens         |
|----------------------|
| HelloScreen         |
| LoginScreen         |
| RegisterScreen      |
| MainScreen          |
| DoTaskScreen        |
| TaskScreen          |
+----------------------+
```

#### **Диаграмма последовательности (создание задачи)**
```plaintext
User -> UI: Вводит данные задачи
UI -> ViewModel: Передаёт данные
ViewModel -> Data Layer: Сохраняет задачу в БД
Data Layer -> ViewModel: Подтверждает сохранение
ViewModel -> UI: Обновляет список задач
```

#### **Диаграмма вариантов использования (Use Case Diagram)**
```plaintext
+----------------------+
|      Пользователь   |
+----------------------+
         |
         V
+----------------------+
|  Создание задачи    |
|  Редактирование     |
|  Удаление задачи    |
|  Авторизация        |
+----------------------+
```

### Часть 3. Сравнение и рефакторинг
#### Отличия между "As Is" и "To Be":
- Отсутствие выделенного слоя данных (рекомендуется добавить Room DB).
- Навигация строится напрямую через `NavManager`, можно улучшить с помощью `Hilt`.
- Бизнес-логика встроена в Composable-функции, можно вынести в ViewModel.
- Нет хранилища состояния задач (использование `ViewModel` поможет решить проблему сохранения данных при пересоздании экрана).

#### Пути улучшения:
1. Внедрение **MVVM** (Model-View-ViewModel) для отделения логики от UI.
2. Использование **Room Database** для хранения задач.
3. Внедрение **Dependency Injection (Hilt)** для лучшей управляемости зависимостями.
4. Улучшение навигации через **Navigation Compose + ViewModel**.
5. Оптимизация UI: применение `LazyColumn` с `rememberLazyListState` для плавного скролла.

### Вывод
Текущая архитектура подходит для небольшого проекта, но для масштабируемости рекомендуется рефакторинг в сторону MVVM и внедрение базы данных.

